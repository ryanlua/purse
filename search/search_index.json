{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Purse","text":"<p>Purse is a fork of the default Roblox backpack decoupled from the CoreGui, allowing developers access to APIs that were previously unavailable and allowing for code modifications.</p> <ul> <li>Source code modification</li> <li>Developer APIs for controlling the inventory</li> <li>Not reliant on CoreGui permissions</li> </ul> <p></p> <p>What Purse is not is being a major improvement over the CoreGui backpack but a copy of it so that developers can iterate on it themselves. They are no additional features beyond what the CoreGui backpack provides.</p>"},{"location":"#demo","title":"Demo","text":"<p>You can play the Purse Demo on Roblox to try out Purse before using it. The place is uncopylocked so you can access an editable copy of the experience</p>"},{"location":"#notes","title":"Notes","text":"<p>Because we can't access the topbar without CoreGui, we use TopbarPlus. This is one of the major differences in terms of functionality. TopbarPlus may not be as familiar to use on consoles and VR.</p>"},{"location":"api-reference/","title":"API Reference","text":"<p>Purse unlocks APIs for the CoreGui backpack which were previously locked to other CoreGui scripts. To access the APIs, just require Purse like any other module script.</p>"},{"location":"api-reference/#methods","title":"Methods","text":"<p>The following code sample, placed within a child <code>LocalScript</code> of a <code>GuiButton</code>, uses <code>OpenClose()</code> to toggle the inventory on the button's <code>Activated</code> event.</p> Inventory Toggle Button<pre><code>local ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\n\nlocal Purse = require(ReplicatedStorage.Purse)\n\nlocal button = script.Parent\n\nlocal function onButtonActivated()\n    Purse.OpenClose()\nend\n\nbutton.Activated:Connect(onButtonActivated)\n</code></pre>"},{"location":"api-reference/#openclose","title":"OpenClose","text":"<pre><code>OpenClose(): ()\n</code></pre> <p>Toggles whether or not the inventory is visible.</p>"},{"location":"api-reference/#isinventoryempty","title":"IsInventoryEmpty","text":"<pre><code>IsInventoryEmpty(): boolean\n</code></pre> <p>Returns true if the inventory is empty.</p>"},{"location":"api-reference/#properties","title":"Properties","text":""},{"location":"api-reference/#ishotbarvisible","title":"IsHotbarVisible","text":"<pre><code>IsHotbarVisible: boolean\n</code></pre> <p>Determines whether or not the hotbar is visible.</p>"},{"location":"api-reference/#isopen","title":"IsOpen","text":"<pre><code>IsOpen: boolean\n</code></pre> <p>Returns true if the inventory is open.</p>"},{"location":"api-reference/#modulename","title":"ModuleName","text":"<pre><code>ModuleName: string\n</code></pre> <p>Returns \"Backpack\".</p>"},{"location":"api-reference/#keepvrtopbaropen","title":"KeepVRTopbarOpen","text":"<pre><code>KeepVRTopbarOpen: boolean\n</code></pre> <p>Returns true.</p>"},{"location":"api-reference/#vrisexclusive","title":"VRIsExclusive","text":"<pre><code>VRIsExclusive: boolean\n</code></pre> <p>Returns true.</p>"},{"location":"api-reference/#vrclosesnonexclusive","title":"VRClosesNonExclusive","text":"<pre><code>VRClosesNonExclusive: boolean\n</code></pre> <p>Returns true.</p>"},{"location":"api-reference/#events","title":"Events","text":"<p>The following code sample, placed within a child <code>LocalScript</code> of <code>StarterPlayerScripts</code>, uses <code>StateChanged</code> to detect when the inventory is toggled and prints its state to output.</p> Detect Inventory State<pre><code>local ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\n\nlocal Purse = require(ReplicatedStorage.Purse)\n\nPurse.StateChanged.Event:Connect(function(isNowOpen)\n    if isNowOpen then\n        print(\"Inventory opened\")\n    else\n        print(\"Inventory closed\")\n    end\nend)\n</code></pre>"},{"location":"api-reference/#statechanged","title":"StateChanged","text":"<pre><code>StateChanged(isNowOpen: boolean): BindableEvent\n</code></pre> <p>Fires after the inventory is opened or closed.</p>"},{"location":"api-reference/#backpackempty","title":"BackpackEmpty","text":"<pre><code>BackpackEmpty(): BindableEvent\n</code></pre> <p>Fires when the backpack becomes empty.</p>"},{"location":"api-reference/#backpackitemadded","title":"BackpackItemAdded","text":"<pre><code>BackpackItemAdded(): BindableEvent\n</code></pre> <p>Fires when an item is added to the backpack.</p>"},{"location":"api-reference/#backpackitemremoved","title":"BackpackItemRemoved","text":"<pre><code>BackpackItemRemoved(): BindableEvent\n</code></pre> <p>Fires when an item is removed from the backpack.</p>"},{"location":"guide/","title":"Guide","text":"<p>Through source code modifications, you can change Purse's behavior and appearance. Here are a few examples of what you can do with Purse.</p>"},{"location":"guide/#changing-equip-color","title":"Changing Equip Color","text":"<p>You can change the slot's equip color, which is blue, by modifying the <code>SLOT_EQUIP_COLOR</code> constant in its source.</p> <p>The following code sample changes the equip color to red.</p> <pre><code>local SLOT_DRAGGABLE_COLOR = Color3.new(49 / 255, 49 / 255, 49 / 255)\nlocal SLOT_EQUIP_COLOR = Color3.new(233 / 255, 90 / 255, 90 / 255) -- (1)!\nlocal SLOT_EQUIP_THICKNESS = 0.1 -- Relative\nlocal SLOT_FADE_LOCKED_DEFAULT = 0.50 -- Locked means undraggable\nlocal slotFadeLocked = SLOT_FADE_LOCKED_DEFAULT * GuiService.PreferredTransparency -- ROBLOX deviation: use GuiService instead of UserGameSettings\nlocal SLOT_BORDER_COLOR = Color3.new(1, 1, 1) -- Appears when dragging\n</code></pre> <ol> <li>Changed from blue <code>Color3.new(90 / 255, 142 / 255, 233 / 255)</code> to red <code>Color3.new(233 / 255, 90 / 255, 90 / 255)</code></li> </ol> <p></p> <p>Hotbar with a red equip outline</p>"},{"location":"guide/#increasing-hotbar-slots-and-inventory-rows","title":"Increasing Hotbar Slots and Inventory Rows","text":"<p>Purse shows a set number of hotbar slots and inventory rows based on the device.</p> <p></p> <p>Computer, console, and VR have 10 hotbar slots and 4 inventory rows</p> <p></p> <p>Phone and tablet devices have 3 hotbar slots and 2 inventory rows</p> <p>It's possible to increase the number of hotbar slots and inventory rows shown by changing the constants in the source code.</p> <p>Note</p> <p>Formerly VR devices used different constants for hotbar slots and inventory rows but now use the same as computer and console devices.</p> <p><code>HOTBAR_SLOTS_VR</code> and <code>INVENTORY_ROWS_VR</code> are no longer used but are still included in the code. VR devices now use <code>INVENTORY_ROWS_FULL</code> and <code>HOTBAR_SLOTS_FULL</code>.</p> <pre><code>local HOTBAR_SLOTS_FULL = 10\nlocal HOTBAR_SLOTS_VR = 6\nlocal HOTBAR_SLOTS_MINI = 3\nlocal HOTBAR_SLOTS_WIDTH_CUTOFF = 1024 -- Anything smaller is MINI\nlocal HOTBAR_OFFSET_FROMBOTTOM = -30 -- Offset to make room for the Health GUI\n\nlocal INVENTORY_ROWS_FULL = 4\nlocal INVENTORY_ROWS_VR = 3\nlocal INVENTORY_ROWS_MINI = 2\nlocal INVENTORY_HEADER_SIZE = 40\nlocal INVENTORY_ARROWS_BUFFER_VR = 40\n</code></pre> <p>Constants suffixed with <code>_FULL</code> are for computer, console, and VR devices while constants suffixed with <code>_MINI</code> are for phone and tablet devices.</p> <p>The following code sample changes phone and tablet devices to have 5 hotbar slots.</p> <pre><code>local HOTBAR_SLOTS_FULL = 10\nlocal HOTBAR_SLOTS_VR = 6\nlocal HOTBAR_SLOTS_MINI = 5 -- (1)!\nlocal HOTBAR_SLOTS_WIDTH_CUTOFF = 1024 -- Anything smaller is MINI\nlocal HOTBAR_OFFSET_FROMBOTTOM = -30 -- Offset to make room for the Health GUI\n</code></pre> <ol> <li>Changed from 3 hotbar slots to 5 hotbar slots</li> </ol> <p></p> <p>Increased hotbar slots on phone and tablet devices</p>"},{"location":"guide/#removing-topbar-icon","title":"Removing Topbar Icon","text":"<p>The topbar icon is decoupled from Purse's functionality, so you can remove it by disabling the <code>TopbarIcon</code> script. In addition, a <code>ContextAction</code> script is included to bind opening and closing the inventory to a keycode (set to backquote ` by default).</p> <p></p> <p>Topbar icon enabled</p> <p></p> <p>Topbar icon disabled</p> <p>Your explorer window should look similar to the following when you disable the <code>TopbarIcon</code> script and enable the <code>ContextAction</code> script.</p> <p></p> <p>Warning</p> <p>If you do not enable the <code>ContextAction</code> script, players will not be able to open the backpack since the topbar icon which handles binding is disabled.</p>"},{"location":"installation/","title":"Installation","text":"<p>Purse is available on the Creator Store, Wally, and GitHub Releases.</p> <p>Purse uses RunContext to run anywhere, so you do not need to move it from Workspace, though it is recommeneded to parent to <code>ReplicatedStorage</code> for best practices and organizational reasons.</p> <p>Danger</p> <p>Do not parent the Purse to any starter containers or it will run multiple times.</p>"},{"location":"installation/#creator-store","title":"Creator Store recommended","text":"<ol> <li> <p>Get the Purse model from the Creator Store.</p> </li> <li> <p>Open Roblox Studio and create a new place or open an existing place.</p> </li> <li> <p>From Studio's Window menu or Home tab toolbar, open the Toolbox and select the Inventory tab.</p> <p></p> <p></p> </li> <li> <p>Locate the Purse model and click it, or drag-and-drop it into the 3D view.</p> </li> <li> <p>In the Explorer window, move the Purse model into <code>ReplicatedStorage</code>.</p> </li> </ol>"},{"location":"installation/#github-releases","title":"GitHub Releases","text":"<ol> <li> <p>Download the <code>Purse.rbxm</code> or <code>Purse.rbxmx</code> model file from GitHub Releases.</p> <p>Info</p> <p>Binary (<code>.rbxm</code>) and XML (<code>.rbxmx</code>) model files contain the exact same model. <code>.rbxm</code> is a smaller file size to download.</p> </li> <li> <p>Open Roblox Studio and create a new place or open an existing place.</p> </li> <li> <p>In the Explorer window, insert Purse into <code>ReplicatedStorage</code>.</p> <p></p> </li> <li> <p>Select the Purse model file you downloaded from GitHub.</p> </li> </ol>"},{"location":"installation/#wally","title":"Wally","text":"<p>You are expected to already have Wally setup in your Rojo project and basic knowledge on how to use Wally packages.</p> <ol> <li> <p>Open your Rojo project in the code editor of your choice.</p> </li> <li> <p>In the <code>wally.toml</code> file, add the latest Wally version for Purse. Your dependencies should look similar to this:</p> wally.toml<pre><code>[dependencies]\npurse = \"ryanlua/purse@1.0.0\"\n</code></pre> </li> <li> <p>Install Purse from Wally by running <code>wally install</code>.</p> </li> </ol>"},{"location":"performance/","title":"Performance","text":"<p>Purse only runs on the client and has zero performance impact on the server.</p> <p>All performance benchmarks are measured on the client using the Developer Console in Roblox Studio testing.</p> <p>Note</p> <p>Benchmarks may be optimistic due to the optimization level of the Luau compiler in Studio testing being lower than in live games.</p>"},{"location":"performance/#memory","title":"Memory","text":"<p>Typically around 0.10 to 0.20 MB of memory is used. Purse uses TopbarPlus, which adds around 0.16 MB of memory on top of the typical memory consumption.</p>"},{"location":"performance/#cpu","title":"CPU","text":"<p>There is no meaningful CPU impact that the MicroProfiler or Script Profiler within the Developer Console can measure. No per-frame calculations are made and code is entirely event-driven.</p>"},{"location":"philosophy/","title":"Philosophy","text":"<p>Purse is a sub project of Satchel, another backpack system designed to improve on Roblox's implementation. While both aim to be a backpack system, the design principles of each are different.</p> <p>The basic rundown is that Purse aims to be as close to the CoreGui while Satchel aims to be an improvement over the CoreGui.</p>"},{"location":"philosophy/#design-principles","title":"Design Principles","text":"<ul> <li>As close to CoreGui as possible: Purse aims to be as similar to Roblox's CoreGui as possible so players barely notice the difference</li> <li>Sync with upstream: We document changes and keep track of any deviations from the CoreGui Backpack upstream which allows us to easily sync to the upstream.</li> <li>More APIs with documentation: Purse includes additional APIs beyond what the CoreGui Backpack provides, all thoroughly documented for developers.</li> </ul>"}]}